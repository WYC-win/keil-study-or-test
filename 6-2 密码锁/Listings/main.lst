C51 COMPILER V9.57.0.0   MAIN                                                              01/17/2026 21:26:15 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Delay.h"
   3          #include "LCD1602.h"
   4          #include <math.h>
   5          
   6          unsigned char MatrixKey()
   7          {
   8   1              unsigned char KeyNumber=0;
   9   1              
  10   1              P1=0xFF;
  11   1              P1_3=0;
  12   1              if(P1_7==0){Delay(20);while(P1_7==0);Delay(20);KeyNumber=1;}
  13   1              if(P1_6==0){Delay(20);while(P1_6==0);Delay(20);KeyNumber=4;}
  14   1              if(P1_5==0){Delay(20);while(P1_5==0);Delay(20);KeyNumber=7;}
  15   1              if(P1_4==0){Delay(20);while(P1_4==0);Delay(20);KeyNumber=11;}
  16   1              
  17   1              P1=0xFF;
  18   1              P1_2=0;
  19   1              if(P1_7==0){Delay(20);while(P1_7==0);Delay(20);KeyNumber=2;}
  20   1              if(P1_6==0){Delay(20);while(P1_6==0);Delay(20);KeyNumber=5;}
  21   1              if(P1_5==0){Delay(20);while(P1_5==0);Delay(20);KeyNumber=8;}
  22   1              if(P1_4==0){Delay(20);while(P1_4==0);Delay(20);KeyNumber=10;}
  23   1              
  24   1              P1=0xFF;
  25   1              P1_1=0;
  26   1              if(P1_7==0){Delay(20);while(P1_7==0);Delay(20);KeyNumber=3;}
  27   1              if(P1_6==0){Delay(20);while(P1_6==0);Delay(20);KeyNumber=6;}
  28   1              if(P1_5==0){Delay(20);while(P1_5==0);Delay(20);KeyNumber=9;}
  29   1              if(P1_4==0){Delay(20);while(P1_4==0);Delay(20);KeyNumber=12;}
  30   1              
  31   1              P1=0xFF;
  32   1              P1_0=0;
  33   1              if(P1_7==0){Delay(20);while(P1_7==0);Delay(20);KeyNumber=0;}
  34   1              if(P1_6==0){Delay(20);while(P1_6==0);Delay(20);KeyNumber=0;}
  35   1              if(P1_5==0){Delay(20);while(P1_5==0);Delay(20);KeyNumber=0;}
  36   1              if(P1_4==0){Delay(20);while(P1_4==0);Delay(20);KeyNumber=0;}
  37   1              
  38   1              return KeyNumber;
  39   1      
  40   1      }
  41          unsigned char KeyNum;
  42          unsigned int Password,count;
  43          unsigned long tem,tem1;
  44          void main()
  45          {
  46   1              LCD_Init();
  47   1              LCD_ShowString(1,1,"ID Password");
  48   1              count=1;
  49   1              tem=0;
  50   1              tem1=0;
  51   1              while(1)
  52   1              {
  53   2                      KeyNum=MatrixKey();
  54   2                      if(KeyNum)
C51 COMPILER V9.57.0.0   MAIN                                                              01/17/2026 21:26:15 PAGE 2   

  55   2                      {
  56   3                              if(KeyNum<=10)//密码数字区
  57   3                              {
  58   4                                      if(count<=10)
  59   4                                      {
  60   5                                              /*Password*=10;
  61   5                                              Password+=KeyNum%10;//获取一位密码*/
  62   5                                              Password=KeyNum%10;
  63   5                                              //tem1=pow (10,count-1);
  64   5                                              //tem=tem+(Password*(1000000000/tem1));
  65   5                                              tem*=10;
  66   5                                              tem+=Password;
  67   5                                              count++;
  68   5                                      }
  69   4                                      LCD_ShowNum(2,count-1,Password,1);
  70   4                              }
  71   3                              
  72   3                              if(KeyNum==11)
  73   3                              {
  74   4                                      LCD_ShowString(2,1,"             ");
  75   4                                      Delay(500);
  76   4                                      LCD_ShowString(2,1,"verifying");
  77   4                                      Delay(500);
  78   4                                      LCD_ShowString(2,10,".");
  79   4                                      Delay(500);
  80   4                                      LCD_ShowString(2,11,".");
  81   4                                      Delay(500);
  82   4                                      LCD_ShowString(2,12,".");
  83   4                                      Delay(500);
  84   4                                      LCD_ShowString(2,13,".");
  85   4                                      Delay(500);
  86   4                                      LCD_ShowString(2,14,".");
  87   4                                      Delay(500);
  88   4                                      LCD_ShowString(2,15,".");
  89   4                                      Delay(500);
  90   4                                      LCD_ShowString(2,16,".");
  91   4                                      Delay(2500);
  92   4                                      if(tem==1011241110)
  93   4                                      {
  94   5                                              LCD_ShowString(2,1,"                  ");
  95   5                                              LCD_ShowString(2,1,"verify success");
  96   5                                              Delay(2500);
  97   5                                              LCD_ShowString(1,14,"   ");
  98   5                                              LCD_ShowString(2,1,"              ");
  99   5                                              LCD_ShowString(1,1,"              ");
 100   5                                              LCD_ShowString(1,1,"WYC:SGI of CUGB");
 101   5                                              LCD_ShowString(2,1,"ID : 1011241110");
 102   5                                              Password=0;
 103   5                                              count=1;
 104   5                                              tem=0;
 105   5                                              //LCD_ShowNum(2,1,Password,4);
 106   5                                      }
 107   4                                      else
 108   4                                      {
 109   5                                              LCD_ShowString(2,1,"                ");
 110   5                                              LCD_ShowString(2,1,"Password Error!");
 111   5                                              Delay(3500);
 112   5                                              LCD_ShowString(1,1,"               ");
 113   5                                              LCD_ShowString(2,1,"               ");
 114   5                                              LCD_ShowString(1,1,"Please wait");
 115   5                                              Delay(1500);
 116   5                                              LCD_ShowString(2,1,"Reseting");
C51 COMPILER V9.57.0.0   MAIN                                                              01/17/2026 21:26:15 PAGE 3   

 117   5                                              Delay(500);
 118   5                                              LCD_ShowString(2,10,".");
 119   5                                              Delay(500);
 120   5                                              LCD_ShowString(2,11,".");
 121   5                                              Delay(500);
 122   5                                              LCD_ShowString(2,12,".");
 123   5                                              Delay(500);
 124   5                                              LCD_ShowString(2,13,".");
 125   5                                              Delay(500);
 126   5                                              LCD_ShowString(2,14,".");
 127   5                                              Delay(500);
 128   5                                              LCD_ShowString(2,15,".");
 129   5                                              Delay(500);
 130   5                                              LCD_ShowString(2,16,".");
 131   5                                              Delay(2500);
 132   5                                              LCD_ShowString(1,1,"               ");
 133   5                                              //LCD_ShowString(1,1,"ID Password");
 134   5                                              LCD_ShowString(2,1,"                ");
 135   5                                              LCD_ShowString(1,1,"Try again");
 136   5                                              //LCD_ShowString(1,14,"   ");
 137   5                                              //LCD_ShowString(2,1,"          ");
 138   5                                              Password=0;
 139   5                                              count=1;
 140   5                                              tem=0;
 141   5                                              //LCD_ShowNum(2,1,Password,4);
 142   5                                      }
 143   4                                      
 144   4                              }
 145   3                              if(KeyNum==12)
 146   3                              {
 147   4                                      LCD_ShowString(1,1,"               ");
 148   4                                      LCD_ShowString(2,1,"               ");
 149   4                                      Delay(500);
 150   4                                      LCD_ShowString(1,1,"Please wait");
 151   4                                      Delay(1500);
 152   4                                      LCD_ShowString(2,1,"Reseting");
 153   4                                      Delay(500);
 154   4                                      LCD_ShowString(2,10,".");
 155   4                                      Delay(500);
 156   4                                      LCD_ShowString(2,11,".");
 157   4                                      Delay(500);
 158   4                                      LCD_ShowString(2,12,".");
 159   4                                      Delay(500);
 160   4                                      LCD_ShowString(2,13,".");
 161   4                                      Delay(500);
 162   4                                      LCD_ShowString(2,14,".");
 163   4                                      Delay(500);
 164   4                                      LCD_ShowString(2,15,".");
 165   4                                      Delay(500);
 166   4                                      LCD_ShowString(2,16,".");
 167   4                                      Delay(2500);
 168   4                                      LCD_ShowString(1,1,"               ");
 169   4                                      LCD_ShowString(1,1,"ID Password");
 170   4                                      LCD_ShowString(2,1,"                ");
 171   4                                      Password=0;
 172   4                                      count=1;
 173   4                                      tem=0;
 174   4                              }
 175   3                      }
 176   2              }
 177   1      }

C51 COMPILER V9.57.0.0   MAIN                                                              01/17/2026 21:26:15 PAGE 4   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1428    ----
   CONSTANT SIZE    =    203    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     13       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
